<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>React App</title>
  </head>
  <body>
    <button onclick="console.log('click button')" style="margin: 20px">click</button>
    <div id="root"></div>

    <script src="./vdom.js"></script>
    <script src="./react-dom/render.js"></script>
    <script src="./react-dom/render-fiber.js"></script>

    <script>
      /** render */
      // ReactDOM.render(vdom, document.getElementById('root'))

      /** render fiber */
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(vdom);

    
      let channel = new MessageChannel;
      
      channel.port1.postMessage('hello')
      channel.port2.onmessage = (msg) => {
        console.log(msg, '=msg')
      } 
      setTimeout(() => {
        console.log('setTimeout1')
      })
      channel.port2.postMessage('hello2')
      console.log('122')
      Promise.resolve().then(() => {
        console.log('Promise')
      })
      channel.port1.onmessage = (msg) => {
        console.log(msg, '=msg')
      } 
    </script>
  </body>
</html>
